<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <!-- Setup Section -->
  <div id="setup-section" style="display: none;">
    <div class="header">
      <h2>GitHub Repository Manager</h2>
      <p>Enter your GitHub Personal Access Token to get started</p>
    </div>
    <div class="setup-form">
      <input type="password" id="token-input" placeholder="GitHub Personal Access Token" />
      <button id="save-token">Save Token</button>
      <div class="help-text">
        <p>To create a token:</p>
        <ol>
          <li>Go to GitHub Settings → Developer settings → Personal access tokens</li>
          <li>Generate new token with 'repo' scope</li>
          <li>Copy and paste it above</li>
        </ol>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div id="main-content">
    <div class="header">
      <h2>Your Repositories</h2>
      <div class="header-actions">
        <button id="refresh-btn" class="refresh-button" title="Refresh repositories">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z"/>
          </svg>
        </button>
        <button id="settings-btn" class="settings-button" title="Change token">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 0a8.2 8.2 0 0 1 .701.031C9.444.095 9.99.645 10.16 1.29l.288 1.107c.018.066.079.158.212.224.231.114.454.243.668.386.123.082.233.09.299.071l1.103-.303c.644-.176 1.392.021 1.82.63.27.385.506.792.704 1.218.315.675.111 1.422-.364 1.891l-.814.806c-.049.048-.098.147-.088.294.016.257.016.515 0 .772-.01.147.039.246.088.294l.814.806c.475.469.679 1.216.364 1.891a7.977 7.977 0 0 1-.704 1.218c-.428.609-1.176.806-1.82.63l-1.103-.303c-.066-.019-.176-.011-.299.071a4.909 4.909 0 0 1-.668.386c-.133.066-.194.158-.212.224l-.288 1.107C9.99 15.355 9.444 15.905 8.701 15.969A8.19 8.19 0 0 1 8 16a8.19 8.19 0 0 1-.701-.031C6.556 15.905 6.01 15.355 5.84 14.71l-.288-1.107c-.018-.066-.079-.158-.212-.224a4.909 4.909 0 0 1-.668-.386c-.123-.082-.233-.09-.299-.071l-1.103.303c-.644.176-1.392-.021-1.82-.63a7.977 7.977 0 0 1-.704-1.218c-.315-.675-.111-1.422.364-1.891l.814-.806c.049-.048.098-.147.088-.294a6.173 6.173 0 0 1 0-.772c.01-.147-.039-.246-.088-.294l-.814-.806C1.937 6.045 1.733 5.298 2.048 4.623c.198-.426.434-.833.704-1.218.428-.609 1.176-.806 1.82-.63l1.103.303c.066.019.176.011.299-.071.214-.143.437-.272.668-.386.133-.066.194-.158.212-.224l.288-1.107C6.01.645 6.556.095 7.299.031A8.2 8.2 0 0 1 8 0Zm0 1.5a6.7 6.7 0 0 0-.576.025c-.19.017-.287.126-.323.26l-.288 1.107c-.063.238-.293.549-.65.753a3.408 3.408 0 0 0-.582.337c-.357.215-.695.215-.933.146l-1.103-.303a.507.507 0 0 0-.644.207 6.477 6.477 0 0 0-.572.989c-.105.227-.039.486.12.644l.814.806c.19.19.29.49.28.793a4.673 4.673 0 0 0 0 .674c.01.303-.09.603-.28.793l-.814.806c-.159.158-.225.417-.12.644.16.346.353.678.572.989a.507.507 0 0 0 .644.207l1.103-.303c.238-.069.576-.069.933.146.19.114.38.221.582.337.357.204.587.515.65.753l.288 1.107c.036.134.133.243.323.26.19.017.382.025.576.025.194 0 .386-.008.576-.025.19-.017.287-.126.323-.26l.288-1.107c.063-.238.293-.549.65-.753.202-.116.392-.223.582-.337.357-.215.695-.215.933-.146l1.103.303a.507.507 0 0 0 .644-.207c.219-.311.412-.643.572-.989.105-.227.039-.486-.12-.644l-.814-.806c-.19-.19-.29-.49-.28-.793a4.673 4.673 0 0 0 0-.674c-.01-.303.09-.603.28-.793l.814-.806c.159-.158.225-.417.12-.644a6.477 6.477 0 0 0-.572-.989.507.507 0 0 0-.644-.207l-1.103.303c-.238.069-.576.069-.933-.146a3.408 3.408 0 0 0-.582-.337c-.357-.204-.587-.515-.65-.753l-.288-1.107c-.036-.134-.133-.243-.323-.26A6.7 6.7 0 0 0 8 1.5Zm0 2.5a4 4 0 1 1 0 8 4 4 0 0 1 0-8Zm0 1.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Z"/>
          </svg>
        </button>
      </div>
    </div>
    
    <div id="loading" style="display: none;">
      <div class="loading-spinner"></div>
      <p>Loading repositories...</p>
    </div>
    
    <div id="error" style="display: none;" class="error-message"></div>
    
    <div id="repo-list"></div>
  </div>

  <script src="popup.js"></script>
</body>
</html>